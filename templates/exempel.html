<!DOCTYPE html>
<html>
<head lang="en">
    <script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'> </script>
    <meta charset="UTF-8">
    <title>API Demo for TrackStat</title>
</head>
<body>
<h1> API Demo</h1>
<p>Open up the developers tool in the browser and go to console. Press the "preserve log" box. The result vill be presentet by logging the return from the server.
<br>

</p>
<h2>Get</h2>
<ul>
    <li>endpoint/Users/id/</li>
    <li>endpoint/Event/id/</li>
    <li>endpoint/Event/</li>
</ul>
<h2>Post</h2>
<ul>
    <li>endpoint/Users/</li>
    <li>endpoint/Event/</li>
</ul>
    
<hr class="featurette-divider"></hr>   

<!-- ------------------- Get User ----------------- -->
    
<h3>Get User</h3>
<div class="description collapsible"> Retrieves the ID and name of the user. The ID is taken from Facebook so you need to use that one. It should be around 17 digit long. This number is taken when a user is logged in the first time and then saved in the DB. </div>
<br>
<div class="arguments collapsible"> GET variables:
    <div class="tabulate">
        Facebook IDToken: The ID of the user (write only the digit) 
    </div>
</div><br>
    
<span>130.240.170.56:8000/users/</span>
<form>
    <input type="text" name="inputform" id="textbox1"/>
    <input type="submit" onclick="try1();"/>
</form>

<div class="result collapsible"><div><pre class="json1" id="2"></pre></div></div>
    
<hr class="featurette-divider"></hr>   

<!-- ------------------- Get Event By ID ----------------- -->
    
<h3>Get User</h3>
<div class="description collapsible"> Retrieves the information from event with the ID. This number is auto generated when you create an event on the frontend, starting from 1.</div>
<br>
<div class="arguments collapsible"> GET variables:
    <div class="tabulate">
        Event_ID: The ID of the event (write only the digit)
    </div>
</div><br>

<span>130.240.170.56:8000/event/</span>
<form>
    <input type="text" name="inputform" id="textbox2"/>
    <input type="submit" onclick="try2();"/>
</form>

<div class="result collapsible"><div><pre class="json2" id="2"></pre></div></div>

<hr class="featurette-divider"></hr>   

<!-- ------------------- Get All Events ----------------- -->
    
<h3>Get User</h3>
<div class="description collapsible"> Retrieves all the events.</div>
<br>
<div class="arguments collapsible"> GET variables:
    <div class="tabulate">
        No varibles needed:  
    </div>
</div><br>

<span class="URI">130.240.170.56:8000/event/</span><button onclick="try3()" class="try3">Try it</button>
<div class="result collapsible"><div><pre class="json3" id="3"></pre></div></div>

<hr class="featurette-divider"></hr>   

<!-- ------------------- Post User ----------------- 
    
<h3>Get User</h3>
<div class="description collapsible"> Adds a user with facebook IDToken and name.</div>
<br>
<div class="arguments collapsible"> Post variables:
    <div class="tabulate">
        Facebook IDToken: The ID of the user
        Facebook Name: The name of the user
    </div>
</div><br>

<b>Try it</b><br>
<span class="URI">endpoint/Users/id/</span><input type="text" class="input"><button class="try" data-index="0">Try it</button>

<hr class="featurette-divider"></hr>   

<!-- ------------------- Post Event ----------------- 
    
<h3>Get User</h3>
<div class="description collapsible"> Adds an event with all information.</div>
<br>
<div class="arguments collapsible"> Post variables:
    <div class="tabulate">
        Facebook IDToken: The ID of the user 
    </div>
</div><br>

<b>Try it</b><br>
<span class="URI">endpoint/Event/</span><input type="text" class="input"><button class="try" data-index="0">Try it</button>

-->

</body>
<script>
    
    function try1()
    {  
    var id = document.getElementById("textbox1").value;
    var xmlHttp = null;

      xmlHttp = new XMLHttpRequest();
      xmlHttp.onreadystatechange=function() {
        if (xmlHttp.readyState==4 && xmlHttp.status==200) {
            var json = xmlHttp.responseText;
            var obj = JSON.parse(json); 
            console.log(obj);
            
        }
        else{
          return "Error";
        }
      };
  
    xmlHttp.open( "GET", "http://130.240.170.56:8000/users/" +id, false );
    xmlHttp.send( null );
        
    }
    
    function try2()
    {  
    var id = document.getElementById("textbox2").value;
    var xmlHttp = null;
        
      xmlHttp = new XMLHttpRequest();
      xmlHttp.onreadystatechange=function() {
        if (xmlHttp.readyState==4 && xmlHttp.status==200) {
            var json = xmlHttp.responseText;
            var obj = JSON.parse(json); 
            console.log(obj);
            
        }
        else{
          return "Error";
        }
      };
  
    xmlHttp.open( "GET", "http://130.240.170.56:8000/event/" +id, false );
    xmlHttp.send( null );
        
    }
    
    function try3()
    {
        
    var xmlHttp = null;
        
      xmlHttp = new XMLHttpRequest();
      xmlHttp.onreadystatechange=function() {
        if (xmlHttp.readyState==4 && xmlHttp.status==200) {
            var json = xmlHttp.responseText;
            var obj = JSON.parse(json); 
            console.log(obj);
            
        }
        else{
          return "Error";
        }
      };
  
    xmlHttp.open( "GET", "http://130.240.170.56:8000/event", false );
    xmlHttp.send( null );
        
    }
    
    
</script>

</html>